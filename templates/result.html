<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>LoanShield - Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body class="page-body">
    {% include 'sidebar.html' %}

    <div class="main-content">
        <h1 class="page-title">Prediction Dashboard</h1>

        <div class="stats-container">
            <div class="stat-card green">
                <h2>{{ safe }}</h2>
                <p>Safe Loans</p>
            </div>

            <div class="stat-card red">
                <h2>{{ danger }}</h2>
                <p>Defaults</p>
            </div>

            <div class="stat-card">
                <h2>{{ total }}</h2>
                <p>Total Predictions</p>
            </div>
        </div>

        <h2 class="table-title">Recent Predictions</h2>
        <table class="history-table">
            <tr>
                <th>Age</th><th>Income</th><th>Loan</th><th>Credit</th>
                <th>DTI</th><th>Education</th><th>Employment</th><th>Status</th>
            </tr>

            {% for row in history %}
            <tr>
                <td>{{ row.age }}</td>
                <td>{{ row.income }}</td>
                <td>{{ row.loan_amount }}</td>
                <td>{{ row.credit_score }}</td>
                <td>{{ row.dti_ratio }}</td>
                <td>{{ row.education }}</td>
                <td>{{ row.employment }}</td>
                <td class="{{ 'green' if row.prediction == 0 else 'red' }}">
                    {{ "Safe" if row.prediction == 0 else "Default" }}
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>

</body>
</html>
